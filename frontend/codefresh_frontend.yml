version: '1.0'

steps:

    build_frontend:
        type: build
        image_name: tivix/unpp-frontend
        dockerfile: Dockerfile
        working_directory: ${{main_clone}}/frontend
        tag: ${{CF_BRANCH}}
            
    push_to_hub:
        type: push
        title: Pushing frontend image to docker hub
        registry: tivix-dockerhub
        candidate: ${{build_frontend}}
        tags: 
            - ${{CF_BRANCH}}
            - latest
        when:
            branch:
                only: 
                    - develop